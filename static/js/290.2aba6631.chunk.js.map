{"version":3,"file":"static/js/290.2aba6631.chunk.js","mappings":"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","sources":["api/fetchApi.js","webpack://goit-react-hw-05-movies/./src/components/MoviesSearchList/moviesSearchList.module.css?c1f2","components/MoviesSearchList/MoviesSearchList.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/moviesPage.module.css?8b89","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://goit-react-hw-05-movies/./src/components/MoviesSearchbar/moviesSearchbar.module.css?da9c","components/MoviesSearchbar/MoviesSearchbar.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '9d504f0d6629b3ea4ce96304b577daca',\n    language: 'en-US',\n  },\n});\n\nexport const getTrendingMovies = async () => {\n    const { data } = await instance.get(`/trending/movie/day?page=1`);\n    return data.results;\n}\n\nexport const getMovieDetails = async (id) => {\n    const { data } = await instance.get(`/movie/${id}`);\n    return data;\n}\n\nexport const getSearchMovies = async (search) => {\n    const { data } = await instance.get(`search/movie?query=${search}&page=1&include_adult=false`);\n    return data.results;\n    \n}\n\nexport const getMovieCast = async (id) => {\n    const { data } = await instance.get(`/movie/${id}/credits`);\n    return data.cast;\n}\n\nexport const getMovieReviews = async (id) => {\n    const { data } = await instance.get(`/movie/${id}/reviews?page=1`);\n    return data.results;\n}","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"moviesSearchList_list__S+hOA\"};","import css from '../MoviesSearchList/moviesSearchList.module.css';\nimport PropTypes from 'prop-types';\nimport { memo } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst MoviesSearchList = ({ movies }) => {\n  const location = useLocation();\n\n  const elements = movies.map(({ id, title }) => (\n    <li className={css.link} key={id}>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return <ul className={css.list}>{elements}</ul>;\n};\n\nexport default memo(MoviesSearchList);\n\nMoviesSearchList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"moviesPage_error__YSscF\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"moviesSearchbar_searchbar__JDCvr\",\"input\":\"moviesSearchbar_input__xnK5Q\",\"button\":\"moviesSearchbar_button__7bgAp\"};","import css from '../MoviesSearchbar/moviesSearchbar.module.css';\nimport PropTypes from 'prop-types';\nimport { useState, memo } from 'react';\n\nconst initialState = {\n  query: '',\n};\n\nconst MoviesSearchbar = ({ onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => {\n      return { ...prevState, [name]: value };\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ ...initialState }); // reset function\n  };\n\n  const { query } = state;\n\n  return (\n    <div className={css.searchbar}>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input\n          value={query}\n          onChange={handleChange}\n          className={css.input}\n          name=\"query\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Type movie title\"\n          required\n        />\n        <button type=\"submit\" className={css.button}>Search\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default memo(MoviesSearchbar); // add optimization memo\n\nMoviesSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import css from '../MoviesPage/moviesPage.module.css'\nimport { useState, useEffect, useCallback } from 'react';\nimport MoviesSearchbar from 'components/MoviesSearchbar/MoviesSearchbar';\nimport MoviesSearchList from 'components/MoviesSearchList/MoviesSearchList';\nimport { getSearchMovies } from 'api/fetchApi';\nimport { useSearchParams } from 'react-router-dom';\nimport { ThreeDots } from 'react-loader-spinner';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const fetchSearchMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await getSearchMovies(query);\n        // console.log(data);\n        if (data.length === 0) {\n          alert('There are no movies matching your request.');\n        }\n        setMovies(data);\n      } catch (error) {\n        setError(error.massage);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSearchMovies();\n  }, [query]);\n\n  const searchMovies = useCallback(\n    ({ query }) => {\n      if (query.trim() === '') {\n        alert('Enter a search movies');\n        return;\n      }\n      if (query === searchParams.get('query')) {\n        alert('Same request. Enter a new search movies');\n        return;\n      }\n      setMovies([]);\n      setSearchParams({ query });\n    },\n    [setSearchParams, searchParams]\n  );\n\n   return (\n     <div>\n       <MoviesSearchbar onSubmit={searchMovies} />\n       <ThreeDots\n         height=\"80\"\n         width=\"80\"\n         radius=\"9\"\n         color=\"#FF0000\"\n         ariaLabel=\"three-dots-loading\"\n         wrapperStyle={{ marginLeft: '45%' }}\n         visible={loading && true}\n       />\n       {error && (<p className={css.error}>Something goes wrong. Please try again later.</p>)}\n       {movies.length > 0 && <MoviesSearchList movies={movies} />}\n     </div>\n   );\n};\n\nexport default MoviesPage;\n"],"names":["instance","axios","baseURL","params","api_key","language","getTrendingMovies","get","data","results","getMovieDetails","id","getSearchMovies","search","getMovieCast","cast","getMovieReviews","MoviesSearchList","movies","location","useLocation","elements","map","title","className","css","to","state","from","memo","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","initialState","query","MoviesSearchbar","onSubmit","useState","setState","e","preventDefault","onChange","name","prevState","type","autoComplete","autoFocus","placeholder","required","setMovies","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","useEffect","fetchSearchMovies","alert","massage","searchMovies","useCallback","trim","height","width","radius","color","ariaLabel","wrapperStyle","marginLeft","visible"],"sourceRoot":""}